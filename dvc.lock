schema: '2.0'
stages:
  preprocess:
    cmd: python3 -u preprocessing.py
    params:
      params.yaml:
        preprocess:
          areas:
          - VISp
          - VISl
          - VISpm
          stimulus-block: 2
          bin-size: 0.001
          stimulus-duration: 0.25
    outs:
    - path: data/area-responses/
      hash: md5
      md5: 0c948e8ec006c8c5bb6538f553271efb.dir
      size: 2194290492
      nfiles: 3
  rrr_analysis:
    cmd: python3 -u rrr_analysis.py
    deps:
    - path: data/area-responses/
      hash: md5
      md5: 18a4a286fc913c2b7dca2a17b792fbe4.dir
      size: 27702328
      nfiles: 2
    params:
      params.yaml:
        cache:
          location: data/.vbn_s3_cache
          force_download: false
        rrr:
          cv: 5
          rank: 10
    outs:
    - path: results/rrr_coefficients.pickle
      hash: md5
      md5: 602969e22ae61fd2082ce408273d3275
      size: 360803
  plots:
    cmd: python3 -u rrr_plot.py
    deps:
    - path: results/rrr_coefficients.pickle
      hash: md5
      md5: 602969e22ae61fd2082ce408273d3275
      size: 360803
    params:
      params.yaml:
        rrr:
          cv: 5
          rank: 10
    outs:
    - path: figures/VISl-VISp_block-2_rrr-coefficients_along_time.png
      hash: md5
      md5: e53015d0c29d312bfd6dea651b4cc746
      size: 205357
