
cache:
  location: "data/.vbn_s3_cache"
  force_download: False

neuropixel:
  area_of_interest: "VISpm"
  block: "active behavior"

load:
  session: 1065905010
  areas: ["VISp", "VISl"] # "VISpm" # "VISm" has no spikes
  stimulus-block: 5
  # Stimulus blocks:
  # 0: change detection task
  # 2: receptive field mapping by gabor stimuli
  # 4: full-flash
  # 5: passive replay
  step-size: 0.001 # in seconds
  stimulus-duration: 0.250 # in seconds

preprocess:
  areas: ["VISp", "VISl"] # "VISpm" # "VISm" has no spikes
  lag-time: 0 # in milliseconds
  lag-area: "VISl"
  step-size: 0.010 # time-step in seconds # 0.010
  bin-size: 0.100 # time-window in seconds # Joao's default: 0.100
  stimulus-duration: 0.250 # in seconds

cca:
  cv: 5
  n_components: 2
  scoring: 'r2'

rrr:
  cv: 3
  rank: 18
  error-score: 'raise'
  predictor: 'VISp'
  target: 'VISl'
  timepoint: 0.050 # in seconds

rrr-param-search:
  cv: [3]
  rank: [14]
  lag: [100,105,110,115,120,125,130,135,140,145,150]
  timepoints: [0]
  duration: 0.250
  time-bin: 0.050
  time-step: 0.025

best-rrr-params:
  1111013640:
    top-down:
      cv: 2
      rank: 16
    bottom-up:
      cv: 2
      rank: 16
  1108334384:
    top-down:
      cv: 2
      rank: 14
    bottom-up:
      cv: 3
      rank: 18
  1112515874:
    top-down:
      cv: 3
      rank: 12
    bottom-up:
      cv: 2
      rank: 12
  1112302803:
    top-down:
      cv: 3
      rank: 14
    bottom-up:
      cv: 2
      rank: 14
  1113751921:
    top-down:
      cv: 4
      rank: 20
    bottom-up:
      cv: 2
      rank: 10
  1048189115:
    top-down:
      cv: 5
      rank: 16
    bottom-up:
      cv: 3
      rank: 16
  1047969464:
    top-down:
      cv: 5
      rank: 16
    bottom-up:
      cv: 3
      rank: 18
  1049514117:
    top-down:
      cv: 2
      rank: 8
    bottom-up:
      cv: 5
      rank: 10
  1052533639:
    top-down:
      cv: 4
      rank: 20
    bottom-up:
      cv: 4
      rank: 16
  1053718935:
    top-down:
      cv: 4
      rank: 18
    bottom-up:
      cv: 4
      rank: 18
  1053941483:
    top-down:
      cv: 2
      rank: 16
    bottom-up:
      cv: 4
      rank: 12
  1055415082:
    top-down:
      cv: 2
      rank: 12
    bottom-up:
      cv: 4
      rank: 20
  1062755779:
    top-down:
      cv: 5
      rank: 12
    bottom-up:
      cv: 3
      rank: 10